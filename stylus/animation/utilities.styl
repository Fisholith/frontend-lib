/**
 * Creates an animation.
 * Generates the correct selectors/markup for both non-angular and angular animations.
 */
create-animation( anim, to, direction = false )

	// Find the angular state that we're going to.
	_ng-to = to == 'in' ? 'enter' : 'leave'

	// Get the selectors.
	_selector = anim + '-' + to
	_ng-selector = anim + '-' + _ng-to

	// If we have a direction, add it in.
	if direction
		_selector += '-' + direction
		_ng-selector += '-' + direction

	// For class based animation.
	.anim-{ _selector }
		{ block }

	// For angular based animations.
	.anim-{ _ng-selector }
		&.ng-{ _ng-to }
			{ block }

/**
 * Staggers
 */
// For class-based animations.
.stagger
	for i in 2..30
		&:nth-child({i})
			animation-delay: (50ms * i)

// For angular based animations.
.stagger-enter
	&.ng-enter-stagger
		animation-delay: 50ms

.stagger-leave
	&.ng-leave-stagger
		animation-delay: 50ms

/**
 * Turning off animations.
 */
.no-animate
	animation-name: none !important
	animation-duration: 0s !important
	transition-duration: 0s !important
	opacity: 1 !important

.no-animate-enter
	&.ng-enter
		animation-name: none !important
		animation-duration: 0s !important
		transition-duration: 0s !important
		opacity: 1 !important

.no-animate-leave
	&.ng-leave
		animation-name: none !important
		animation-duration: 0s !important
		transition-duration: 0s !important
		opacity: 1 !important

@media $media-xs
	.no-animate-xs
		animation-name: none !important
		animation-duration: 0s !important
		transition-duration: 0s !important
		opacity: 1 !important

@media $media-sm
	.no-animate-sm
		animation-name: none !important
		animation-duration: 0s !important
		transition-duration: 0s !important
		opacity: 1 !important

@media $media-md
	.no-animate-md
		animation-name: none !important
		animation-duration: 0s !important
		transition-duration: 0s !important
		opacity: 1 !important

@media $media-lg
	.no-animate-lg
		animation-name: none !important
		animation-duration: 0s !important
		transition-duration: 0s !important
		opacity: 1 !important
