<div class="timeline-list-item-icon" ng-if="::showUser">
	<span gj-user-avatar="::user"></span>
</div>

<div ng-class="::{ 'timeline-list-item-main': showUser }">

	<form gj-form="formModel" name="commentAddForm">

		<form-group class="no-animate" name="comment" label="{{ 'Leave a Comment' | translate }}" hide-label="true">

			<div form-markdown-editor
				preview-class="comment-widget-comment-content"
				markdown-preview-url="/comments/preview"
				markdown-mode="comments"
				placeholder="{{ commentPlacholder }}"
				>
			</div>

			<control-errors label="comment"></control-errors>

		</form-group>

		<button gj-form-submit-button class="btn btn-outline" ng-disabled="!commentAddForm.$valid" ng-click="onSubmit()">
			<span class="jolticon" ng-class="method == 'add' ? 'jolticon-add' : 'jolticon-edit'"></span>
			<span ng-if="method == 'add'" translate>Add Comment</span>
			<span ng-if="method == 'edit'" translate>Save</span>
		</button>

		<button class="btn btn-danger-outline" ng-if="method == 'edit'" ng-click="onCancel()" translate>
			Cancel
		</button>

	</form>
</div>
