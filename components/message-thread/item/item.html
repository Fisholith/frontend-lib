<app-timeline-list-item
	class="message-thread-item"
	:id="id"
	:is-active="isActive"
	:is-new="isNew"
	>

	<app-user-avatar
		slot="bubble"
		class="avatar-circle"
		:user="user"
		:show-hover-card="true"
		/>

	<div class="timeline-list-item-details">

		<div class="message-thread-item-meta">

			<div class="message-thread-item-byline">
				<span class="message-thread-item-author">
					<router-link
						:to="{
							name: 'profile.overview',
							params: { username: user.username },
						}"
						class="link-unstyled"
						>
						{{ user.display_name }}
					</router-link>

					<small class="text-muted">
						@{{ user.username }}
					</small>
				</span>

				<template v-if="repliedTo">
					<app-jolticon icon="share" />

					<span class="message-thread-item-author tiny">
						<router-link
							:to="{
								name: 'profile.overview',
								params: { username: repliedTo.username },
							}"
							class="link-unstyled"
							>
							{{ repliedTo.display_name }}
						</router-link>

						<span class="text-muted">
							@{{ repliedTo.username }}
						</span>
					</span>
				</template>

				<slot name="authors" />
			</div>

			<div class="message-thread-item-meta-sub">
				<slot name="tags" />

				<small class="text-muted"
					:title="dateFilter( date, 'medium' )"
					>
					<app-time-ago :date="date" />
				</small>

				<slot name="meta" />
			</div>
		</div>

		<slot />

		<div class="timeline-list-item-controls">
			<slot name="controls" />
		</div>

		<div class="message-thread-item-replies" v-if="isShowingReplies">
			<hr class="message-thread-item-replies-split">
			<slot name="replies" />
			<hr class="message-thread-item-replies-split">
		</div>

	</div>

</app-timeline-list-item>
